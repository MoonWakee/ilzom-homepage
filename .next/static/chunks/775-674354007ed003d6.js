"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[775],{48775:function(e,n,r){var t=r(34051),i=r.n(t),a=r(67294),s=r(35553),o=r(97031),c=r(71956),u=r(22526),d=r(62596),p=r(83346);function l(e,n,r,t,i,a,s){try{var o=e[a](s),c=o.value}catch(u){return void r(u)}o.done?n(c):Promise.resolve(c).then(t,i)}function h(e){return function(){var n=this,r=arguments;return new Promise((function(t,i){var a=e.apply(n,r);function s(e){l(a,t,i,s,o,"next",e)}function o(e){l(a,t,i,s,o,"throw",e)}s(void 0)}))}}function _(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function f(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){_(e,n,r[n])}))}return e}n.Z=function(e){var n=(0,a.useContext)(o.I),r=(0,c.Z)().triggerToast,t=(0,a.useState)(""),l=t[0],_=t[1],b=(0,a.useState)(!1),m=b[0],v=b[1],g=function(){var e=h(i().mark((function e(){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!m),_("Awaiting signature.."),e.next=5,(0,d.o$)(n.ethersProvider);case 5:if(!(r=e.sent)){e.next=16;break}return _("Verifying.."),e.next=10,(0,u.vB)(n,r);case 10:return _("Sending.."),e.next=13,(0,u.at)(n,r);case 13:return _("Notifying.."),e.next=16,(0,u.cQ)(n,r);case 16:v(!m),n.updateStage("next"),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),v(!m);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=h(i().mark((function e(){var t,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!n.signerAddress||100===n.chainId){e.next=4;break}return r("Please switch to the Gnosis Network."),e.abrupt("return");case 4:if(100!==n.chainId||!n.isMember){e.next=17;break}return v((function(e){return!e})),_("Sending request.."),e.next=9,(0,u.X6)(f({},n,{h_submissionHash:null}));case 9:return e.next=11,(0,u.gR)(f({},n,{h_submissionHash:null}));case 11:return t=e.sent,_("Notifying.."),e.next=15,(0,u.Cl)(f({},n,{h_id:t._id,h_submissionHash:null}));case 15:v((function(e){return!e})),n.updateStage("next");case 17:if(100!==n.chainId||n.isMember){e.next=56;break}return v((function(e){return!e})),_("Checking Balance.."),e.next=22,(0,d.jA)(n.ethersProvider,p.hT[n.chainId],n.signerAddress);case 22:if(a=e.sent,!(s.dF(a)<p.eG)){e.next=27;break}return n.updateAlertModalStatus(),v((function(e){return!e})),e.abrupt("return");case 27:return _("Paying.."),e.next=30,(0,d.wk)(p.hT[n.chainId],n.ethersProvider,p.xn[n.chainId],n.web3.utils.toWei(p.eG.toString()));case 30:if(!(o=e.sent)){e.next=53;break}return e.next=34,o.wait();case 34:if(1!==e.sent.status){e.next=48;break}return _("Sending request.."),e.next=39,(0,u.X6)(f({},n,{h_submissionHash:o.hash}));case 39:return e.next=41,(0,u.gR)(f({},n,{h_submissionHash:o.hash}));case 41:return _("Notifying.."),e.next=44,(0,u.Cl)(f({},n,{h_submissionHash:o.hash}));case 44:v((function(e){return!e})),n.updateStage("next"),e.next=51;break;case 48:return(0,c.Z)("Error paying for submission."),v((function(e){return!e})),e.abrupt("return");case 51:e.next=56;break;case 53:return(0,c.Z)("Error paying for submission."),v((function(e){return!e})),e.abrupt("return");case 56:e.next=62;break;case 58:e.prev=58,e.t0=e.catch(0),console.log(e.t0),v((function(e){return!e}));case 62:case"end":return e.stop()}}),e,null,[[0,58]])})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=h(i().mark((function e(t,a){var o,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!n.signerAddress||100===n.chainId){e.next=4;break}return r("Please switch to the Gnosis Network."),e.abrupt("return");case 4:if(100!==n.chainId){e.next=35;break}return _("Checking Balance.."),e.next=8,(0,d.jA)(n.ethersProvider,p.hT[n.chainId],n.signerAddress);case 8:if(o=e.sent,!(s.dF(o)<p.bZ)){e.next=12;break}return n.updateAlertModalStatus(),e.abrupt("return");case 12:return _("Paying.."),e.next=15,(0,d.wk)(p.hT[n.chainId],n.ethersProvider,p.xn[n.chainId],n.web3.utils.toWei(p.bZ.toString()));case 15:if(!(l=e.sent)){e.next=33;break}return e.next=19,l.wait();case 19:if(1!==e.sent.status){e.next=29;break}return n.setWeb3Data({h_consultationHash:l.hash}),_("Updating records.."),e.next=25,(0,u.lN)(a,l.hash);case 25:return e.next=27,(0,u.Gx)(t,l.hash);case 27:e.next=31;break;case 29:return(0,c.Z)("Error paying for consultation."),e.abrupt("return");case 31:e.next=35;break;case 33:return(0,c.Z)("Error paying for consultation."),e.abrupt("return");case 35:e.next=40;break;case 37:e.prev=37,e.t0=e.catch(0),console.log(e.t0);case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(n,r){return e.apply(this,arguments)}}(),x=function(){var n=h(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:"join"===e&&g(),"hire"===e&&y();case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return{submissionTextUpdates:l,submissionPendingStatus:m,submitApplication:x,bookConsultation:j}}},71956:function(e,n,r){var t=r(85893),i=r(40980),a=r(48017);n.Z=function(){var e=(0,i.useToast)();return{triggerToast:function(n){e({duration:3e3,position:"top",render:function(){return(0,t.jsx)(a.xu,{color:"white",p:3,bg:"red",fontFamily:"jetbrains",textAlign:"center",children:n})}})}}}},22526:function(e,n,r){r.d(n,{Ds:function(){return k},cQ:function(){return b},Cl:function(){return x},vB:function(){return f},at:function(){return _},X6:function(){return v},gR:function(){return m},rP:function(){return j},lN:function(){return y},Gx:function(){return g}});var t=r(34051),i=r.n(t),a=r(9669),s=r.n(a),o=r(49704),c=r.n(o),u=function(e,n){return"airtable"===n?{Name:e.j_name,Email:e.j_email,Bio:e.j_bio,Goals:e.j_goals,Discord:e.j_discordHandle,Telegram:e.j_telegramHandle,Twitter:e.j_twitterHandle,Github:e.j_githubHandle,"ETH Address":e.signerAddress,"ENS Address":e.signerEns,"Primary Skills":e.j_primarySkills,"Secondary Skills":e.j_secondarySkills,Class:e.j_classType,Passion:e.j_passion,"Favourite Media":e.j_favoriteMedia,Thrills:e.j_thrills,Interests:e.j_interest,"DAO Familiarity":e.j_daoFamiliarity,"Crypto Experience":e.j_cryptoExp,Availability:e.j_availability,Comments:e.j_comments,"Handbook Read":e.j_handbookRead,"Pledge Readiness":e.j_pledgeReadiness}:"mongo"===n?{name:e.j_name,email_address:e.j_email,introduction:e.j_bio,learning_goals:e.j_goals,discord_handle:e.j_discordHandle,telegram_handle:e.j_telegramHandle,twitter_handle:e.j_twitterHandle,github_handle:e.j_githubHandle,eth_address:e.signerAddress,ens_name:e.signerEns,primary_skills:e.j_primarySkills,secondary_skills:e.j_secondarySkills,skill_type:e.j_classType,passion:e.j_passion,favourite_media:e.j_favoriteMedia,crypto_thrills:e.j_thrills,why_raidguild:e.j_interest,dao_familiarity:e.j_daoFamiliarity,crypto_exp:e.j_cryptoExp,availability:e.j_availability,comments:e.j_comments,handbook_read:e.j_handbookRead,pledge_readiness:e.j_pledgeReadiness}:"discord"===n?{name:e.j_name,bio:e.j_bio,goals:e.j_goals,discord:e.j_discordHandle,twitter:e.j_twitterHandle,primary_skills:e.j_primarySkills.toString(),class_type:e.j_classType,passion:e.j_passion,crypto_exp:e.j_cryptoExp,availability:e.j_availability,eth_address:e.signerAddress}:void 0},d=function(e,n){return"airtable"===n?{Name:e.h_name,Address:e.signerAddress,Email:e.h_email,Bio:e.h_bio,Discord:e.h_discordHandle,Telegram:e.h_telegramHandle,Twitter:e.h_twitterHandle,Github:e.h_githubHandle,"Project Name":e.h_projectName,"Project Type":e.h_projectType,"Specs Availability":e.h_specsType,"Project Link":e.h_projectLink,"Project Description":e.h_projectDesc,"Services Needed":e.h_servicesNeeded,"Budget Range":e.h_budgetRange,"Expected Deadline":e.h_expectedDeadline,"Specific Needs":e.h_specificNeed,Priorities:e.h_priorities,"Submission Hash":e.h_submissionHash}:"mongo"===n?{contact_name:e.h_name,contact_email:e.h_email,contact_bio:e.h_bio,contact_discord:e.h_discordHandle,contact_telegram:e.h_telegramHandle,contact_twitter:e.h_twitterHandle,contact_github:e.h_githubHandle,project_name:e.h_projectName,project_type:e.h_projectType,project_specs:e.h_specsType,specs_link:e.h_projectLink,project_desc:e.h_projectDesc,services_req:e.h_servicesNeeded,budget:e.h_budgetRange,desired_delivery:e.h_expectedDeadline,additional_info:e.h_specificNeed,delivery_priorities:e.h_priorities,submission_hash:e.h_submissionHash,submission_type:"Paid"}:"discord"===n?{name:e.h_name,discord:e.h_discordHandle,project_name:e.h_projectName,project_type:e.h_projectType,project_link:e.h_projectLink,services_needed:e.h_servicesNeeded,budget_range:e.h_budgetRange,submission_hash:e.h_submissionHash,consultation_id:e.h_id}:void 0},p=r(34155);function l(e,n,r,t,i,a,s){try{var o=e[a](s),c=o.value}catch(u){return void r(u)}o.done?n(c):Promise.resolve(c).then(t,i)}function h(e){return function(){var n=this,r=arguments;return new Promise((function(t,i){var a=e.apply(n,r);function s(e){l(a,t,i,s,o,"next",e)}function o(e){l(a,t,i,s,o,"throw",e)}s(void 0)}))}}var _=function(){var e=h(i().mark((function e(n,r){var t,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u(n,"mongo"),a=c().sign(r,p.env.NEXT_PUBLIC_JWT_SECRET),e.next=4,s().post("/api/join/primary",t,{headers:{Authorization:"Bearer "+a}});case 4:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),f=function(){var e=h(i().mark((function e(n,r){var t,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u(n,"airtable"),a=c().sign(r,p.env.NEXT_PUBLIC_JWT_SECRET),e.next=4,s().post("/api/join/secondary",t,{headers:{Authorization:"Bearer "+a}});case 4:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),b=function(){var e=h(i().mark((function e(n,r){var t,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u(n,"discord"),a=c().sign(r,p.env.NEXT_PUBLIC_JWT_SECRET),e.next=4,s().post("/api/join/notify",t,{headers:{Authorization:"Bearer "+a}});case 4:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),m=function(){var e=h(i().mark((function e(n){var r,t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=d(n,"mongo"),e.next=3,s().post("/api/hire/primary",r);case 3:return t=e.sent.data,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),v=function(){var e=h(i().mark((function e(n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=d(n,"airtable"),e.next=3,s().post("/api/hire/secondary",r);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),g=function(){var e=h(i().mark((function e(n,r){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={submission_hash:n,consultation_hash:r},e.next=3,s().post("/api/consult/primary",t);case 3:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),y=function(){var e=h(i().mark((function e(n,r){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={id:n,consultation_hash:r},e.next=3,s().post("/api/consult/secondary",t);case 3:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),j=function(){var e=h(i().mark((function e(n,r,t){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={id:n,bid_hash:r,bid_amount:t},e.next=3,s().post("/api/consult/bid",a);case 3:case"end":return e.stop()}}),e)})));return function(n,r,t){return e.apply(this,arguments)}}(),x=function(){var e=h(i().mark((function e(n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=d(n,"discord"),e.next=3,s().post("/api/hire/notify",r);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),k=function(){var e=h(i().mark((function e(n){var r,t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c().sign(n,p.env.NEXT_PUBLIC_JWT_SECRET),e.next=3,s().post("/api/fetch/client",{},{headers:{Authorization:"Bearer "+r}});case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}}]);