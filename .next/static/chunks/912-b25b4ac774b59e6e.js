"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[912],{15912:function(e,r,n){var t=n(47568),a=n(26042),i=n(69396),s=n(34051),o=n.n(s),c=n(67294),u=n(35553),d=n(18795),p=n(95881),h=n(46754),l=n(24285),_=n(31838);r.Z=function(e){var r=(0,c.useContext)(d.I),n=(0,p.Z)().triggerToast,s=(0,c.useState)(""),f=s[0],b=s[1],m=(0,c.useState)(!1),g=m[0],j=m[1],v=function(){var e=(0,t.Z)(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,j(!g),b("Awaiting signature.."),e.next=5,(0,l.o$)(r.ethersProvider);case 5:if(!(n=e.sent)){e.next=16;break}return b("Verifying.."),e.next=10,(0,h.vB)(r,n);case 10:return b("Sending.."),e.next=13,(0,h.at)(r,n);case 13:return b("Notifying.."),e.next=16,(0,h.cQ)(r,n);case 16:j(!g),r.updateStage("next"),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),j(!g);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=(0,t.Z)(o().mark((function e(){var t,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!r.signerAddress||100===r.chainId){e.next=4;break}return n("Please switch to the Gnosis Network."),e.abrupt("return");case 4:if(100!==r.chainId||!r.isMember){e.next=17;break}return j((function(e){return!e})),b("Sending request.."),e.next=9,(0,h.X6)((0,i.Z)((0,a.Z)({},r),{h_submissionHash:null}));case 9:return e.next=11,(0,h.gR)((0,i.Z)((0,a.Z)({},r),{h_submissionHash:null}));case 11:return t=e.sent,b("Notifying.."),e.next=15,(0,h.Cl)((0,i.Z)((0,a.Z)({},r),{h_id:t._id,h_submissionHash:null}));case 15:j((function(e){return!e})),r.updateStage("next");case 17:if(100!==r.chainId||r.isMember){e.next=56;break}return j((function(e){return!e})),b("Checking Balance.."),e.next=22,(0,l.jA)(r.ethersProvider,_.hT[r.chainId],r.signerAddress);case 22:if(s=e.sent,!(u.dF(s)<_.eG)){e.next=27;break}return r.updateAlertModalStatus(),j((function(e){return!e})),e.abrupt("return");case 27:return b("Paying.."),e.next=30,(0,l.wk)(_.hT[r.chainId],r.ethersProvider,_.xn[r.chainId],r.web3.utils.toWei(_.eG.toString()));case 30:if(!(c=e.sent)){e.next=53;break}return e.next=34,c.wait();case 34:if(1!==e.sent.status){e.next=48;break}return b("Sending request.."),e.next=39,(0,h.X6)((0,i.Z)((0,a.Z)({},r),{h_submissionHash:c.hash}));case 39:return e.next=41,(0,h.gR)((0,i.Z)((0,a.Z)({},r),{h_submissionHash:c.hash}));case 41:return b("Notifying.."),e.next=44,(0,h.Cl)((0,i.Z)((0,a.Z)({},r),{h_submissionHash:c.hash}));case 44:j((function(e){return!e})),r.updateStage("next"),e.next=51;break;case 48:return(0,p.Z)("Error paying for submission."),j((function(e){return!e})),e.abrupt("return");case 51:e.next=56;break;case 53:return(0,p.Z)("Error paying for submission."),j((function(e){return!e})),e.abrupt("return");case 56:e.next=62;break;case 58:e.prev=58,e.t0=e.catch(0),console.log(e.t0),j((function(e){return!e}));case 62:case"end":return e.stop()}}),e,null,[[0,58]])})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=(0,t.Z)(o().mark((function e(t,a){var i,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!r.signerAddress||100===r.chainId){e.next=4;break}return n("Please switch to the Gnosis Network."),e.abrupt("return");case 4:if(100!==r.chainId){e.next=35;break}return b("Checking Balance.."),e.next=8,(0,l.jA)(r.ethersProvider,_.hT[r.chainId],r.signerAddress);case 8:if(i=e.sent,!(u.dF(i)<_.bZ)){e.next=12;break}return r.updateAlertModalStatus(),e.abrupt("return");case 12:return b("Paying.."),e.next=15,(0,l.wk)(_.hT[r.chainId],r.ethersProvider,_.xn[r.chainId],r.web3.utils.toWei(_.bZ.toString()));case 15:if(!(s=e.sent)){e.next=33;break}return e.next=19,s.wait();case 19:if(1!==e.sent.status){e.next=29;break}return r.setWeb3Data({h_consultationHash:s.hash}),b("Updating records.."),e.next=25,(0,h.lN)(a,s.hash);case 25:return e.next=27,(0,h.Gx)(t,s.hash);case 27:e.next=31;break;case 29:return(0,p.Z)("Error paying for consultation."),e.abrupt("return");case 31:e.next=35;break;case 33:return(0,p.Z)("Error paying for consultation."),e.abrupt("return");case 35:e.next=40;break;case 37:e.prev=37,e.t0=e.catch(0),console.log(e.t0);case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(r,n){return e.apply(this,arguments)}}(),k=function(){var r=(0,t.Z)(o().mark((function r(){return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:"join"===e&&v(),"hire"===e&&x();case 2:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return{submissionTextUpdates:f,submissionPendingStatus:g,submitApplication:k,bookConsultation:y}}},95881:function(e,r,n){var t=n(85893),a=n(40980),i=n(48017);r.Z=function(){var e=(0,a.useToast)();return{triggerToast:function(r){e({duration:3e3,position:"top",render:function(){return(0,t.jsx)(i.xu,{color:"white",p:3,bg:"basedarker",fontFamily:"jetbrains",textAlign:"center",children:r})}})}}}},46754:function(e,r,n){n.d(r,{Ds:function(){return y},cQ:function(){return f},Cl:function(){return x},vB:function(){return _},at:function(){return l},X6:function(){return m},gR:function(){return b},rP:function(){return v},lN:function(){return j},Gx:function(){return g}});var t=n(47568),a=n(34051),i=n.n(a),s=n(9669),o=n.n(s),c=n(49704),u=n.n(c),d=function(e,r){return"airtable"===r?{Name:e.j_name,Email:e.j_email,Graduation:e.j_graduation,Bio:e.j_bio,Goals:e.j_goals,Discord:e.j_discordHandle,Telegram:e.j_telegramHandle,Twitter:e.j_twitterHandle,Github:e.j_githubHandle,"ETH Address":e.signerAddress,"ENS Address":e.signerEns,"Primary Skills":e.j_primarySkills,"Secondary Skills":e.j_secondarySkills,Class:e.j_classType,Passion:e.j_passion,"Favourite Media":e.j_favoriteMedia,Thrills:e.j_thrills,Interests:e.j_interest,"DAO Familiarity":e.j_daoFamiliarity,"Crypto Experience":e.j_cryptoExp,Availability:e.j_availability,Comments:e.j_comments,"Handbook Read":e.j_handbookRead,"Pledge Readiness":e.j_pledgeReadiness}:"mongo"===r?{name:e.j_name,email_address:e.j_email,graduation:e.j_graduation,introduction:e.j_bio,learning_goals:e.j_goals,discord_handle:e.j_discordHandle,telegram_handle:e.j_telegramHandle,twitter_handle:e.j_twitterHandle,github_handle:e.j_githubHandle,eth_address:e.signerAddress,ens_name:e.signerEns,primary_skills:e.j_primarySkills,secondary_skills:e.j_secondarySkills,skill_type:e.j_classType,passion:e.j_passion,favourite_media:e.j_favoriteMedia,crypto_thrills:e.j_thrills,why_raidguild:e.j_interest,dao_familiarity:e.j_daoFamiliarity,crypto_exp:e.j_cryptoExp,availability:e.j_availability,comments:e.j_comments,handbook_read:e.j_handbookRead,pledge_readiness:e.j_pledgeReadiness}:"discord"===r?{name:e.j_name,bio:e.j_bio,goals:e.j_goals,discord:e.j_discordHandle,twitter:e.j_twitterHandle,primary_skills:e.j_primarySkills.toString(),class_type:e.j_classType,passion:e.j_passion,crypto_exp:e.j_cryptoExp,availability:e.j_availability,eth_address:e.signerAddress}:void 0},p=function(e,r){return"airtable"===r?{Name:e.h_name,Address:e.signerAddress,Email:e.h_email,Bio:e.h_bio,Discord:e.h_discordHandle,Telegram:e.h_telegramHandle,Twitter:e.h_twitterHandle,Github:e.h_githubHandle,"Project Name":e.h_projectName,"Project Type":e.h_projectType,"Specs Availability":e.h_specsType,"Project Link":e.h_projectLink,"Project Description":e.h_projectDesc,"Services Needed":e.h_servicesNeeded,"Budget Range":e.h_budgetRange,"Expected Deadline":e.h_expectedDeadline,"Specific Needs":e.h_specificNeed,Priorities:e.h_priorities,"Submission Hash":e.h_submissionHash}:"mongo"===r?{contact_name:e.h_name,contact_email:e.h_email,contact_bio:e.h_bio,contact_discord:e.h_discordHandle,contact_telegram:e.h_telegramHandle,contact_twitter:e.h_twitterHandle,contact_github:e.h_githubHandle,project_name:e.h_projectName,project_type:e.h_projectType,project_specs:e.h_specsType,specs_link:e.h_projectLink,project_desc:e.h_projectDesc,services_req:e.h_servicesNeeded,budget:e.h_budgetRange,desired_delivery:e.h_expectedDeadline,additional_info:e.h_specificNeed,delivery_priorities:e.h_priorities,submission_hash:e.h_submissionHash,submission_type:"Paid"}:"discord"===r?{name:e.h_name,discord:e.h_discordHandle,project_name:e.h_projectName,project_type:e.h_projectType,project_link:e.h_projectLink,services_needed:e.h_servicesNeeded,budget_range:e.h_budgetRange,submission_hash:e.h_submissionHash,consultation_id:e.h_id}:void 0},h=n(34155),l=function(){var e=(0,t.Z)(i().mark((function e(r,n){var t,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d(r,"mongo"),a=u().sign(n,h.env.NEXT_PUBLIC_JWT_SECRET),e.next=4,o().post("/api/join/primary",t,{headers:{Authorization:"Bearer "+a}});case 4:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}(),_=function(){var e=(0,t.Z)(i().mark((function e(r,n){var t,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d(r,"airtable"),a=u().sign(n,h.env.NEXT_PUBLIC_JWT_SECRET),e.next=4,o().post("/api/join/secondary",t,{headers:{Authorization:"Bearer "+a}});case 4:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}(),f=function(){var e=(0,t.Z)(i().mark((function e(r,n){var t,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d(r,"discord"),a=u().sign(n,h.env.NEXT_PUBLIC_JWT_SECRET),e.next=4,o().post("/api/join/notify",t,{headers:{Authorization:"Bearer "+a}});case 4:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}(),b=function(){var e=(0,t.Z)(i().mark((function e(r){var n,t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p(r,"mongo"),e.next=3,o().post("/api/hire/primary",n);case 3:return t=e.sent.data,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),m=function(){var e=(0,t.Z)(i().mark((function e(r){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p(r,"airtable"),e.next=3,o().post("/api/hire/secondary",n);case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),g=function(){var e=(0,t.Z)(i().mark((function e(r,n){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={submission_hash:r,consultation_hash:n},e.next=3,o().post("/api/consult/primary",t);case 3:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}(),j=function(){var e=(0,t.Z)(i().mark((function e(r,n){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={id:r,consultation_hash:n},e.next=3,o().post("/api/consult/secondary",t);case 3:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}(),v=function(){var e=(0,t.Z)(i().mark((function e(r,n,t){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={id:r,bid_hash:n,bid_amount:t},e.next=3,o().post("/api/consult/bid",a);case 3:case"end":return e.stop()}}),e)})));return function(r,n,t){return e.apply(this,arguments)}}(),x=function(){var e=(0,t.Z)(i().mark((function e(r){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p(r,"discord"),e.next=3,o().post("/api/hire/notify",n);case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),y=function(){var e=(0,t.Z)(i().mark((function e(r){var n,t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u().sign(r,h.env.NEXT_PUBLIC_JWT_SECRET),e.next=3,o().post("/api/fetch/client",{},{headers:{Authorization:"Bearer "+n}});case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()}}]);